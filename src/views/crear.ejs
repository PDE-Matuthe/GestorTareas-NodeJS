<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%- include ('partials/head.ejs') %>
</head>

<body>
  <%- include ('partials/nav.ejs') %>
    <main>
      <div class="container">
        <h1 class="text-center my-4">Crear Nueva Tarea</h1>
        <form action="/crear" method="POST" class="needs-validation" novalidate>
          <div class="mb-3">
            <label for="titulo" class="form-label">Título</label>
            <input type="text" id="titulo" name="titulo" class="form-control"
              placeholder="Escribe el título de la tarea" required>
            <div class="invalid-feedback">
              Por favor, ingresa un título.
            </div>
          </div>
          <div class="mb-3">
            <label for="categoria" class="form-label">Categoría</label>
            <select id="categoria" name="categoria" class="form-select" required>
              <option value="" selected disabled>Selecciona una categoría</option>
              <option value="Trabajo">Trabajo</option>
              <option value="Personal">Personal</option>
              <option value="Hogar">Hogar</option>
              <option value="Estudios">Estudios</option>
              <option value="Finanzas">Finanzas</option>
              <option value="Salud">Salud</option>
              <option value="Entretenimiento">Entretenimiento</option>
              <option value="Otros">Otros</option>
            </select>
            <div class="invalid-feedback">
              Por favor, selecciona una categoría.
            </div>
          </div>
          <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción (Opcional)</label>
            <textarea id="descripcion" name="descripcion" class="form-control" rows="4"
              placeholder="Describe la tarea"></textarea>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary">Crear Tarea</button>
            <a href="/" class="btn btn-secondary">Cancelar</a>
          </div>
        </form>
      </div>
    </main>
    <%- include ('partials/footer.ejs') %>
      <script>
        // Bootstrap validation
        (function () {
          'use strict'
          const forms = document.querySelectorAll('.needs-validation')
          Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }
              form.classList.add('was-validated')
            }, false)
          })
        })()
      </script>
</body>

</html>
